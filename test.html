<!DOCTYPE html>
<html class="no-js" prefix="og: http://ogp.me/ns#">
    <head>
    </head>

    <style>
        .flashbox {
            width: 400px;
            height: 300px;
            background: aliceblue;
            position: relative;
            margin-left: 200px;
        }

        .flashbox .word {
            position: absolute;
        }

    </style>

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <script type="text/javascript">
      $.fn.textWidth = function(){
        var html_org = $(this).html();
        var html_calc = '<span>' + html_org + '</span>';
        $(this).html(html_calc);
        var width = $(this).find('span:first').width();
        $(this).html(html_org);
        return width;
      };

      $.fn.textHeight = function(){
        var html_org = $(this).html();
        var html_calc = '<span>' + html_org + '</span>';
        $(this).html(html_calc);
        var height = $(this).find('span:first').height();
        $(this).html(html_org);
        return height;
      };

      var x;


      $(function() {
        $flashbox = $('#positive-emotions');
        var POSITIVE = "charming, cheerful, coherent, confident, cooperative , credible, cultured, debonair".split(',');

        x = displayRandom
        displayRandom($flashbox, POSITIVE, 400);
        function displayRandom($flashbox, wordList, duration) {
          // default args
          duration = typeof duration !== 'undefined' ? duration : 400;

          // $flashbox.children('.word').remove();

          var word = wordList[Math.floor(Math.random() * wordList.length)];
          var $item = createItem(word);
          $flashbox.append($item);

          var TIME_ALIVE = 500;
          var TRANSLATION_DISTANCE = 20;
          var BOX_PADDING = 10;

          var maxTop = $flashbox.height() - $item.textHeight() - BOX_PADDING;
          var maxLeft = $flashbox.width() - $item.textWidth() - BOX_PADDING;
          var top = Math.floor(Math.random() * maxTop + TRANSLATION_DISTANCE + BOX_PADDING);
          var left = Math.floor(Math.random() * maxLeft + BOX_PADDING);
          $item.css({'top': top + 'px', 'left': left + 'px', 'opacity':0});
          $item.animate({'top': (top - TRANSLATION_DISTANCE), 'opacity': 1}, duration, 'swing', function() {
            // destroy object
            var e = $(this);
            setTimeout(function() {
              e.fadeOut(function() { e.remove(); });
            }, TIME_ALIVE)
          });

          function createItem(word) {
            return $('<span>').addClass('word').text(word);
          }
        }


      });

    </script>

    <body>
        <div id="positive-emotions" class="flashbox"></div>

    </body>

</html>